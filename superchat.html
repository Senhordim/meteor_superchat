<head>
    <title>Superchat</title>
    <script>

    </script>
</head>

<body>
    <div id="outer">
        {{> entrance}}
    </div>
</body>

<template name="entrance">

    {{#unless joined}}
    <div id="rooms">
    <p>Your name:</p>
    <input id="user-name" type="text" />
    <p>Rooms:</p>
    <ul>
        {{#each rooms}}
        <li>{{name}}<button id="{{name}}" href="" class="room-enter" onclick="return(false);">join</button></li>
        {{/each}}
    </ul>
    <input id="room-name" type="text" />
    <button class="room-create">Create</button> 
    </div>
    {{/unless}}
    
    {{#if joined}}
        {{> chatroom }}
    {{/if}}
    
</template>

<template name="chatroom">
    
    <h3>Room: {{room_actual}}</h3>
    <div id="chat">
        {{#each msgs}}
        <p>
            {{user}}{{action}}{{msg}}
        </p>
        {{scroll_to_bottom}}
        {{/each}}
    </div>
    <div id="msg-wrap">
        <textarea cols="35" rows="4" type="text" id="msg" ></textarea>
        <button class="msg-send">
            Send
        </button>
        <button class="room-exit">
            Exit
        </button>
    </div>
    
</template>

